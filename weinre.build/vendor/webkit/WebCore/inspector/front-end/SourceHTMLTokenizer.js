/* Generated by re2c 0.13.5 on Fri Jan 28 18:32:27 2011 */
/*
 * Copyright (C) 2009 Google Inc. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are
 * met:
 *
 *     * Redistributions of source code must retain the above copyright
 * notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above
 * copyright notice, this list of conditions and the following disclaimer
 * in the documentation and/or other materials provided with the
 * distribution.
 *     * Neither the name of Google Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
// Generate js file as follows:
//
// re2c -isc WebCore/inspector/front-end/SourceHTMLTokenizer.re2js \
// | sed 's|^yy\([^:]*\)*\:|case \1:|' \
// | sed 's|[*]cursor[+][+]|this._charAt(cursor++)|' \
// | sed 's|[[*][+][+]cursor|this._charAt(++cursor)|' \
// | sed 's|[*]cursor|this._charAt(cursor)|' \
// | sed 's|yych = \*\([^;]*\)|yych = this._charAt\1|' \
// | sed 's|{ gotoCase = \([^; continue; };]*\)|{ gotoCase = \1; continue; }|' \
// | sed 's|unsigned\ int|var|' \
// | sed 's|var\ yych|case 1: case 1: var yych|'
WebInspector.SourceHTMLTokenizer=function(){WebInspector.SourceTokenizer.call(this),
// The order is determined by the generated code.
this._lexConditions={INITIAL:0,COMMENT:1,DOCTYPE:2,TAG:3,DSTRING:4,SSTRING:5},this.case_INITIAL=1e3,this.case_COMMENT=1001,this.case_DOCTYPE=1002,this.case_TAG=1003,this.case_DSTRING=1004,this.case_SSTRING=1005,this._parseConditions={INITIAL:0,ATTRIBUTE:1,ATTRIBUTE_VALUE:2,LINKIFY:4,A_NODE:8,SCRIPT:16,STYLE:32},this.initialCondition={lexCondition:this._lexConditions.INITIAL,parseCondition:this._parseConditions.INITIAL},this.condition=this.initialCondition},WebInspector.SourceHTMLTokenizer.prototype={set line(i){if(this._internalJavaScriptTokenizer){var t=/<\/script/i.exec(i);this._internalJavaScriptTokenizer.line=t?i.substring(0,t.index):i}else if(this._internalCSSTokenizer){t=/<\/style/i.exec(i);this._internalCSSTokenizer.line=t?i.substring(0,t.index):i}this._line=i},_isExpectingAttribute:function(){return this._condition.parseCondition&this._parseConditions.ATTRIBUTE},_isExpectingAttributeValue:function(){return this._condition.parseCondition&this._parseConditions.ATTRIBUTE_VALUE},_setExpectingAttribute:function(){this._isExpectingAttributeValue()&&(this._condition.parseCondition^=this._parseConditions.ATTRIBUTE_VALUE),this._condition.parseCondition|=this._parseConditions.ATTRIBUTE},_setExpectingAttributeValue:function(){this._isExpectingAttribute()&&(this._condition.parseCondition^=this._parseConditions.ATTRIBUTE),this._condition.parseCondition|=this._parseConditions.ATTRIBUTE_VALUE},_stringToken:function(i,t){return this._isExpectingAttributeValue()?(this.tokenType=this._attrValueTokenType(),t&&this._setExpectingAttribute()):this.tokenType=null,i},_attrValueTokenType:function(){return this._condition.parseCondition&this._parseConditions.LINKIFY?this._condition.parseCondition&this._parseConditions.A_NODE?"html-external-link":"html-resource-link":"html-attribute-value"},nextToken:function(i){if(this._internalJavaScriptTokenizer){if(
// Re-set line to force </script> detection first.
this.line=this._line,i!==this._internalJavaScriptTokenizer._line.length){
// Tokenizer is stateless, so restore its condition before tokenizing and save it after.
this._internalJavaScriptTokenizer.condition=this._condition.internalJavaScriptTokenizerCondition;var t=this._internalJavaScriptTokenizer.nextToken(i);return this.tokenType=this._internalJavaScriptTokenizer.tokenType,this._condition.internalJavaScriptTokenizerCondition=this._internalJavaScriptTokenizer.condition,t}i!==this._line.length&&delete this._internalJavaScriptTokenizer}else if(this._internalCSSTokenizer){if(
// Re-set line to force </style> detection first.
this.line=this._line,i!==this._internalCSSTokenizer._line.length){
// Tokenizer is stateless, so restore its condition before tokenizing and save it after.
this._internalCSSTokenizer.condition=this._condition.internalCSSTokenizerCondition;t=this._internalCSSTokenizer.nextToken(i);return this.tokenType=this._internalCSSTokenizer.tokenType,this._condition.internalCSSTokenizerCondition=this._internalCSSTokenizer.condition,t}i!==this._line.length&&delete this._internalCSSTokenizer}for(var n=i,e=1;;)switch(e){case 1:var o,s=0;if(this.getLexCondition()<3){if(this.getLexCondition()<1){e=this.case_INITIAL;continue}if(this.getLexCondition()<2){e=this.case_COMMENT;continue}e=this.case_DOCTYPE;continue}
/* *********************************** */if(this.getLexCondition()<4){e=this.case_TAG;continue}if(this.getLexCondition()<5){e=this.case_DSTRING;continue}e=this.case_SSTRING;continue;case this.case_COMMENT:if((o=this._charAt(i))<="\f"){if("\n"==o){e=4;continue}e=3;continue}if(o<="\r"){e=4;continue}if("-"==o){e=6;continue}e=3;continue;case 2:return this.tokenType="html-comment",i;case 3:s=0,o=this._charAt(YYMARKER=++i),e=9;continue;case 4:++i;case 5:return this.tokenType=null,i;case 6:if(s=1,"-"!=(o=this._charAt(YYMARKER=++i))){e=5;continue}case 7:if(++i,">"==(o=this._charAt(i))){e=10;continue}case 8:s=0,YYMARKER=++i,o=this._charAt(i);case 9:if(o<="\f"){if("\n"==o){e=2;continue}e=8;continue}if(o<="\r"){e=2;continue}if("-"==o){e=12;continue}e=8;continue;case 10:return++i,this.setLexCondition(this._lexConditions.INITIAL),this.tokenType="html-comment",i;case 12:if(++i,"-"==(o=this._charAt(i))){e=7;continue}if(i=YYMARKER,s<=0){e=2;continue}
/* *********************************** */e=5;continue;case this.case_DOCTYPE:if((o=this._charAt(i))<="\f"){if("\n"==o){e=18;continue}e=17;continue}if(o<="\r"){e=18;continue}if(">"==o){e=20;continue}e=17;continue;case 16:return this.tokenType="html-doctype",i;case 17:o=this._charAt(++i),e=23;continue;case 18:return++i,this.tokenType=null,i;case 20:return++i,this.setLexCondition(this._lexConditions.INITIAL),this.tokenType="html-doctype",i;case 22:++i,o=this._charAt(i);case 23:if(o<="\f"){if("\n"==o){e=16;continue}e=22;continue}
/* *********************************** */if(o<="\r"){e=16;continue}if(">"==o){e=16;continue}e=22;continue;case this.case_DSTRING:if((o=this._charAt(i))<="\f"){if("\n"==o){e=28;continue}e=27;continue}if(o<="\r"){e=28;continue}if('"'==o){e=30;continue}e=27;continue;case 26:return this._stringToken(i);case 27:o=this._charAt(++i),e=34;continue;case 28:return++i,this.tokenType=null,i;case 30:++i;case 31:return this.setLexCondition(this._lexConditions.TAG),this._stringToken(i,!0);case 32:o=this._charAt(++i),e=31;continue;case 33:++i,o=this._charAt(i);case 34:if(o<="\f"){if("\n"==o){e=26;continue}e=33;continue}
/* *********************************** */if(o<="\r"){e=26;continue}if('"'==o){e=32;continue}e=33;continue;case this.case_INITIAL:if("<"!=(o=this._charAt(i)))return++i,this.tokenType=null,i;e=39;continue;case 39:if(s=0,(o=this._charAt(YYMARKER=++i))<="/"){if("!"==o){e=44;continue}if("/"<=o){e=41;continue}}else if(o<="S"){if("S"<=o){e=42;continue}}else if("s"==o){e=42;continue}case 40:return this.setLexCondition(this._lexConditions.TAG),this._condition.parseCondition&(this._parseConditions.SCRIPT|this._parseConditions.STYLE)?(
// Do not tokenize script and style tag contents, keep lexer state, even though processing "<".
this.setLexCondition(this._lexConditions.INITIAL),this.tokenType=null):(this._condition.parseCondition=this._parseConditions.INITIAL,this.tokenType="html-tag"),i;case 41:if(s=0,"S"==(o=this._charAt(YYMARKER=++i))){e=73;continue}if("s"==o){e=73;continue}e=40;continue;case 42:if((o=this._charAt(++i))<="T"){if("C"==o){e=62;continue}if("T"<=o){e=63;continue}}else if(o<="c"){if("c"<=o){e=62;continue}}else if("t"==o){e=63;continue}case 43:i=YYMARKER,e=40;continue;case 44:if(!((o=this._charAt(++i))<="C")){if(o<="D"){e=46;continue}if("d"==o){e=46;continue}e=43;continue}if("-"!=o){e=43;continue}if("-"==(o=this._charAt(++i))){e=54;continue}e=43;continue;case 46:if("O"==(o=this._charAt(++i))){e=47;continue}if("o"!=o){e=43;continue}case 47:if("C"==(o=this._charAt(++i))){e=48;continue}if("c"!=o){e=43;continue}case 48:if("T"==(o=this._charAt(++i))){e=49;continue}if("t"!=o){e=43;continue}case 49:if("Y"==(o=this._charAt(++i))){e=50;continue}if("y"!=o){e=43;continue}case 50:if("P"==(o=this._charAt(++i))){e=51;continue}if("p"!=o){e=43;continue}case 51:if("E"==(o=this._charAt(++i))){e=52;continue}if("e"!=o){e=43;continue}case 52:return++i,this.setLexCondition(this._lexConditions.DOCTYPE),this.tokenType="html-doctype",i;case 54:if(++i,(o=this._charAt(i))<="\f"){if("\n"==o){e=57;continue}e=54;continue}if(o<="\r"){e=57;continue}if("-"!=o){e=54;continue}if(++i,"-"==(o=this._charAt(i))){e=59;continue}e=43;continue;case 57:return++i,this.setLexCondition(this._lexConditions.COMMENT),this.tokenType="html-comment",i;case 59:if(++i,">"==(o=this._charAt(i)))return++i,this.tokenType="html-comment",i;e=54;continue;case 62:if("R"==(o=this._charAt(++i))){e=68;continue}if("r"==o){e=68;continue}e=43;continue;case 63:if("Y"==(o=this._charAt(++i))){e=64;continue}if("y"!=o){e=43;continue}case 64:if("L"==(o=this._charAt(++i))){e=65;continue}if("l"!=o){e=43;continue}case 65:if("E"==(o=this._charAt(++i))){e=66;continue}if("e"!=o){e=43;continue}case 66:return++i,this.setLexCondition(this._lexConditions.TAG),this._condition.parseCondition&this._parseConditions.STYLE?(
// Do not tokenize style tag contents, keep lexer state, even though processing "<".
this.setLexCondition(this._lexConditions.INITIAL),this.tokenType=null):(this.tokenType="html-tag",this._condition.parseCondition=this._parseConditions.STYLE,this._setExpectingAttribute()),i;case 68:if("I"==(o=this._charAt(++i))){e=69;continue}if("i"!=o){e=43;continue}case 69:if("P"==(o=this._charAt(++i))){e=70;continue}if("p"!=o){e=43;continue}case 70:if("T"==(o=this._charAt(++i))){e=71;continue}if("t"!=o){e=43;continue}case 71:return++i,this.setLexCondition(this._lexConditions.TAG),this._condition.parseCondition&this._parseConditions.SCRIPT?(
// Do not tokenize script tag contents, keep lexer state, even though processing "<".
this.setLexCondition(this._lexConditions.INITIAL),this.tokenType=null):(this.tokenType="html-tag",this._condition.parseCondition=this._parseConditions.SCRIPT,this._setExpectingAttribute()),i;case 73:if((o=this._charAt(++i))<="T"){if("C"==o){e=75;continue}if(o<="S"){e=43;continue}}else{if(o<="c"){if(o<="b"){e=43;continue}e=75;continue}if("t"!=o){e=43;continue}}if("Y"==(o=this._charAt(++i))){e=81;continue}if("y"==o){e=81;continue}e=43;continue;case 75:if("R"==(o=this._charAt(++i))){e=76;continue}if("r"!=o){e=43;continue}case 76:if("I"==(o=this._charAt(++i))){e=77;continue}if("i"!=o){e=43;continue}case 77:if("P"==(o=this._charAt(++i))){e=78;continue}if("p"!=o){e=43;continue}case 78:if("T"==(o=this._charAt(++i))){e=79;continue}if("t"!=o){e=43;continue}case 79:return++i,this.setLexCondition(this._lexConditions.TAG),this.tokenType="html-tag",this._condition.parseCondition=this._parseConditions.INITIAL,i;case 81:if("L"==(o=this._charAt(++i))){e=82;continue}if("l"!=o){e=43;continue}case 82:if("E"==(o=this._charAt(++i))){e=83;continue}if("e"!=o){e=43;continue}case 83:return++i,this.setLexCondition(this._lexConditions.TAG),this.tokenType="html-tag",this._condition.parseCondition=this._parseConditions.INITIAL,i;
/* *********************************** */case this.case_SSTRING:if((o=this._charAt(i))<="\f"){if("\n"==o){e=89;continue}e=88;continue}if(o<="\r"){e=89;continue}if("'"==o){e=91;continue}e=88;continue;case 87:return this._stringToken(i);case 88:o=this._charAt(++i),e=95;continue;case 89:return++i,this.tokenType=null,i;case 91:++i;case 92:return this.setLexCondition(this._lexConditions.TAG),this._stringToken(i,!0);case 93:o=this._charAt(++i),e=92;continue;case 94:++i,o=this._charAt(i);case 95:if(o<="\f"){if("\n"==o){e=87;continue}e=94;continue}
/* *********************************** */if(o<="\r"){e=87;continue}if("'"==o){e=93;continue}e=94;continue;case this.case_TAG:if((o=this._charAt(i))<="&"){if(o<="\r"){if("\n"==o){e=100;continue}if("\r"<=o){e=100;continue}}else if(o<=" "){if(" "<=o){e=100;continue}}else if('"'==o){e=102;continue}}else if(o<=">"){if(!(o<=";")){if(o<="<"){e=100;continue}if(o<="="){e=104;continue}e=106;continue}if(o<="'"){e=103;continue}}else if(o<="["){if("["<=o){e=100;continue}}else if("]"==o){e=100;continue}++i,o=this._charAt(i),e=119;continue;case 99:if(this._condition.parseCondition===this._parseConditions.SCRIPT||this._condition.parseCondition===this._parseConditions.STYLE)
// Fall through if expecting attributes.
return this.tokenType=null,i;if(this._condition.parseCondition===this._parseConditions.INITIAL)this.tokenType="html-tag",this._setExpectingAttribute(),"a"===(c=this._line.substring(n,i))?this._condition.parseCondition|=this._parseConditions.A_NODE:this._condition.parseCondition&this._parseConditions.A_NODE&&(this._condition.parseCondition^=this._parseConditions.A_NODE);else if(this._isExpectingAttribute()){var c;"href"===(c=this._line.substring(n,i))||"src"===c?this._condition.parseCondition|=this._parseConditions.LINKIFY:(this._condition.parseCondition|=this._parseConditions.LINKIFY)&&(this._condition.parseCondition^=this._parseConditions.LINKIFY),this.tokenType="html-attribute-name"}else this._isExpectingAttributeValue()?this.tokenType=this._attrValueTokenType():this.tokenType=null;return i;case 100:return++i,this.tokenType=null,i;case 102:s=0,o=this._charAt(YYMARKER=++i),e=115;continue;case 103:s=0,o=this._charAt(YYMARKER=++i),e=109;continue;case 104:return++i,this._isExpectingAttribute()&&this._setExpectingAttributeValue(),this.tokenType=null,i;case 106:return++i,this.setLexCondition(this._lexConditions.INITIAL),this.tokenType="html-tag",this._condition.parseCondition&this._parseConditions.SCRIPT?this._internalJavaScriptTokenizer||(this._internalJavaScriptTokenizer=WebInspector.SourceTokenizer.Registry.getInstance().getTokenizer("text/javascript"),this._condition.internalJavaScriptTokenizerCondition=this._internalJavaScriptTokenizer.initialCondition):this._condition.parseCondition&this._parseConditions.STYLE?this._internalCSSTokenizer||(this._internalCSSTokenizer=WebInspector.SourceTokenizer.Registry.getInstance().getTokenizer("text/css"),this._condition.internalCSSTokenizerCondition=this._internalCSSTokenizer.initialCondition):this._condition.parseCondition=this._parseConditions.INITIAL,i;case 108:++i,o=this._charAt(i);case 109:if(!(o<="\f")){if(o<="\r"){e=110;continue}if("'"==o){e=112;continue}e=108;continue}if("\n"!=o){e=108;continue}case 110:return++i,this.setLexCondition(this._lexConditions.SSTRING),this._stringToken(i);case 112:return++i,this._stringToken(i,!0);case 114:++i,o=this._charAt(i);case 115:if(!(o<="\f")){if(o<="\r"){e=116;continue}if('"'==o){e=112;continue}e=114;continue}if("\n"!=o){e=114;continue}case 116:return++i,this.setLexCondition(this._lexConditions.DSTRING),this._stringToken(i);case 118:++i,o=this._charAt(i);case 119:if(o<='"'){if(o<="\r"){if("\n"==o){e=99;continue}if(o<="\f"){e=118;continue}e=99;continue}if(" "==o){e=99;continue}if(o<="!"){e=118;continue}e=99;continue}if(o<=">"){if("'"==o){e=99;continue}if(o<=";"){e=118;continue}e=99;continue}if(o<="["){if(o<="Z"){e=118;continue}e=99;continue}if("]"==o){e=99;continue}e=118;continue}}},WebInspector.SourceHTMLTokenizer.prototype.__proto__=WebInspector.SourceTokenizer.prototype;