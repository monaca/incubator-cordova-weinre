/*
 * Copyright (C) 2007 Apple Inc.  All rights reserved.
 * Copyright (C) 2009 Joseph Pecoraro
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1.  Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 * 2.  Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimer in the
 *     documentation and/or other materials provided with the distribution.
 * 3.  Neither the name of Apple Computer, Inc. ("Apple") nor the names of
 *     its contributors may be used to endorse or promote products derived
 *     from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
WebInspector.StylesSidebarPane=function(e){var t;WebInspector.SidebarPane.call(this,WebInspector.UIString("Styles")),this.settingsSelectElement=document.createElement("select"),(t=document.createElement("option")).value="original",t.action=this._changeColorFormat.bind(this),t.label=WebInspector.UIString("As Authored"),this.settingsSelectElement.appendChild(t),(t=document.createElement("option")).value="hex",t.action=this._changeColorFormat.bind(this),t.label=WebInspector.UIString("Hex Colors"),this.settingsSelectElement.appendChild(t),(t=document.createElement("option")).value="rgb",t.action=this._changeColorFormat.bind(this),t.label=WebInspector.UIString("RGB Colors"),this.settingsSelectElement.appendChild(t),(t=document.createElement("option")).value="hsl",t.action=this._changeColorFormat.bind(this),t.label=WebInspector.UIString("HSL Colors"),this.settingsSelectElement.appendChild(t),this.settingsSelectElement.appendChild(document.createElement("hr")),(t=document.createElement("option")).action=this._createNewRule.bind(this),t.label=WebInspector.UIString("New Style Rule"),this.settingsSelectElement.appendChild(t),this.settingsSelectElement.addEventListener("click",function(e){e.stopPropagation()},!1),this.settingsSelectElement.addEventListener("change",this._changeSetting.bind(this),!1);var i=WebInspector.settings.colorFormat;"original"===i?this.settingsSelectElement[0].selected=!0:"hex"===i?this.settingsSelectElement[1].selected=!0:"rgb"===i?this.settingsSelectElement[2].selected=!0:"hsl"===i&&(this.settingsSelectElement[3].selected=!0),this.titleElement.appendChild(this.settingsSelectElement),this._computedStylePane=e,this.element.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),!0)},WebInspector.StylesSidebarPane.StyleValueDelimiters=" \t\n\"':;,/()",
// Taken from http://www.w3.org/TR/CSS21/propidx.html.
WebInspector.StylesSidebarPane.InheritedProperties=["azimuth","border-collapse","border-spacing","caption-side","color","cursor","direction","elevation","empty-cells","font-family","font-size","font-style","font-variant","font-weight","font","letter-spacing","line-height","list-style-image","list-style-position","list-style-type","list-style","orphans","pitch-range","pitch","quotes","richness","speak-header","speak-numeral","speak-punctuation","speak","speech-rate","stress","text-align","text-indent","text-transform","text-shadow","visibility","voice-family","volume","white-space","widows","word-spacing"].keySet(),
// Keep in sync with RenderStyleConstants.h PseudoId enum. Array below contains pseudo id names for corresponding enum indexes.
// First item is empty due to its artificial NOPSEUDO nature in the enum.
// FIXME: find a way of generating this mapping or getting it from combination of RenderStyleConstants and CSSSelector.cpp at
// runtime.
WebInspector.StylesSidebarPane.PseudoIdNames=["","first-line","first-letter","before","after","selection","","-webkit-scrollbar","-webkit-file-upload-button","-webkit-input-placeholder","-webkit-slider-thumb","-webkit-search-cancel-button","-webkit-search-decoration","-webkit-search-results-decoration","-webkit-search-results-button","-webkit-media-controls-panel","-webkit-media-controls-play-button","-webkit-media-controls-mute-button","-webkit-media-controls-timeline","-webkit-media-controls-timeline-container","-webkit-media-controls-volume-slider","-webkit-media-controls-volume-slider-container","-webkit-media-controls-current-time-display","-webkit-media-controls-time-remaining-display","-webkit-media-controls-seek-back-button","-webkit-media-controls-seek-forward-button","-webkit-media-controls-fullscreen-button","-webkit-media-controls-rewind-button","-webkit-media-controls-return-to-realtime-button","-webkit-media-controls-toggle-closed-captions-button","-webkit-media-controls-status-display","-webkit-scrollbar-thumb","-webkit-scrollbar-button","-webkit-scrollbar-track","-webkit-scrollbar-track-piece","-webkit-scrollbar-corner","-webkit-resizer","-webkit-input-list-button","-webkit-inner-spin-button","-webkit-outer-spin-button"],WebInspector.StylesSidebarPane.prototype={_contextMenuEventFired:function(e){var t=e.target.enclosingNodeOrSelfWithClass("webkit-html-resource-link")||e.target.enclosingNodeOrSelfWithClass("webkit-html-external-link");if(t){var i=new WebInspector.ContextMenu;WebInspector.panels.elements.populateHrefContextMenu(i,e,t)&&i.show(e)}},update:function(t,i,e){var n=!1;if(e&&delete this.node,e||t&&t!==this.node||(n=!0),t&&t.nodeType===Node.TEXT_NODE&&t.parentNode&&(t=t.parentNode),t&&t.nodeType!==Node.ELEMENT_NODE&&(t=null),t?this.node=t:t=this.node,!t)return this.bodyElement.removeChildren(),this._computedStylePane.bodyElement.removeChildren(),void(this.sections={});n?WebInspector.cssModel.getComputedStyleAsync(t.id,function(e){e&&this._refreshUpdate(t,e,i)}.bind(this)):WebInspector.cssModel.getStylesAsync(t.id,function(e){e&&this._rebuildUpdate(t,e)}.bind(this))},_refreshUpdate:function(e,t,i){for(var n in this.sections){var r=this._refreshStyleRules(this.sections[n],t),s={},o={};this._markUsedProperties(r,s,o),this._refreshSectionsForStyleRules(r,s,o,i)}
// Trace the computed style.
this.sections[0][0].rebuildComputedTrace(this.sections[0])},_rebuildUpdate:function(e,t){this.bodyElement.removeChildren(),this._computedStylePane.bodyElement.removeChildren();var i=this._rebuildStyleRules(e,t),n={},r={};this._markUsedProperties(i,n,r),this.sections[0]=this._rebuildSectionsForStyleRules(i,n,r,0);var s=this.sections[0].inheritedPropertiesSeparatorElement;
// Trace the computed style.
this.sections[0][0].rebuildComputedTrace(this.sections[0]);for(var o=0;o<t.pseudoElements.length;++o){var l=t.pseudoElements[o];i=[];var a=l.pseudoId,d={isStyleSeparator:!0,pseudoId:a};i.push(d);
// Add rules in reverse order to match the cascade order.
for(var p=l.rules.length-1;0<=p;--p){var h=l.rules[p];i.push({style:h.style,selectorText:h.selectorText,sourceURL:h.sourceURL,rule:h,editable:!(!h.style||!h.style.id)})}n={},r={},this._markUsedProperties(i,n,r),this.sections[a]=this._rebuildSectionsForStyleRules(i,n,r,a,s)}},_refreshStyleRules:function(e,t){for(var i=t,n=[],r=0;e&&r<e.length;++r){var s=e[r];if(!(s instanceof WebInspector.BlankStylePropertiesSection)){s.computedStyle&&(s.styleRule.style=i);var o={section:s,style:s.styleRule.style,computedStyle:s.computedStyle,rule:s.rule,editable:!(!s.styleRule.style||!s.styleRule.style.id)};n.push(o)}}return n},_rebuildStyleRules:function(e,t){var i=t.computedStyle;this.sections={};var n=[];n.push({computedStyle:!0,selectorText:"",style:i,editable:!1});for(var r in t.styleAttributes){var s={style:t.styleAttributes[r],editable:!1};s.selectorText=WebInspector.panels.elements.treeOutline.nodeNameToCorrectCase(e.nodeName)+"["+r,e.getAttribute(r)&&(s.selectorText+="="+e.getAttribute(r)),s.selectorText+="]",n.push(s)}
// Show element's Style Attributes
if(t.inlineStyle&&e.nodeType===Node.ELEMENT_NODE){var o={selectorText:"element.style",style:t.inlineStyle,isAttribute:!0};n.push(o)}
// Add rules in reverse order to match the cascade order.
t.matchedCSSRules.length&&n.push({isStyleSeparator:!0,text:WebInspector.UIString("Matched CSS Rules")});for(var l=t.matchedCSSRules.length-1;0<=l;--l){var a=t.matchedCSSRules[l];n.push({style:a.style,selectorText:a.selectorText,sourceURL:a.sourceURL,rule:a,editable:!(!a.style||!a.style.id)})}
// Walk the node structure and identify styles with inherited properties.
var d=e.parentNode;function p(e){var t={isStyleSeparator:!0};t.node=e,n.push(t)}for(var h=0;h<t.inherited.length;++h){var c=t.inherited[h],u=!1;if(c.inlineStyle&&this._containsInherited(c.inlineStyle)){o={selectorText:WebInspector.UIString("Style Attribute"),style:c.inlineStyle,isAttribute:!0,isInherited:!0};u||(p(d),u=!0),n.push(o)}for(l=c.matchedCSSRules.length-1;0<=l;--l){var m=c.matchedCSSRules[l];if(this._containsInherited(m.style)){a=m;u||(p(d),u=!0),n.push({style:a.style,selectorText:a.selectorText,sourceURL:a.sourceURL,rule:a,isInherited:!0,editable:!(!a.style||!a.style.id)})}}d=d.parentNode}return n},_markUsedProperties:function(e,t,i){
// Walk the style rules and make a list of all used and overloaded properties.
for(var n=!1,r=0;r<e.length;++r){var s=e[r];if(!s.computedStyle&&!s.isStyleSeparator&&(!s.section||!s.section.noAffect)){s.usedProperties={};for(var o=s.style.allProperties,l=0;l<o.length;++l){if((p=o[l]).isLive){var a=p.name;!n&&p.priority.length&&(n=!0),
// If the property name is already used by another rule then this rule's
// property is overloaded, so don't add it to the rule's usedProperties.
a in t||(s.usedProperties[a]=!0),"font"===a&&(
// The font property is not reported as a shorthand. Report finding the individual
// properties so they are visible in computed style.
// FIXME: remove this when http://bugs.webkit.org/show_bug.cgi?id=15598 is fixed.
s.usedProperties["font-family"]=!0,s.usedProperties["font-size"]=!0,s.usedProperties["font-style"]=!0,s.usedProperties["font-variant"]=!0,s.usedProperties["font-weight"]=!0,s.usedProperties["line-height"]=!0)}}
// Add all the properties found in this style to the used properties list.
// Do this here so only future rules are affect by properties used in this rule.
for(var a in e[r].usedProperties)t[a]=!0}}if(n)
// Walk the properties again and account for !important.
{var d=[];
// Walk in reverse to match the order !important overrides.
for(r=e.length-1;0<=r;--r)if(!e[r].computedStyle&&!e[r].isStyleSeparator)for(o=e[r].style.allProperties,l=0;l<o.length;++l){var p;if((p=o[l]).isLive){a=p.name;p.priority.length?(a in d?delete e[r].usedProperties[a]:e[r].usedProperties[a]=!0,d[a]=!0):a in d&&delete e[r].usedProperties[a]}}}},_refreshSectionsForStyleRules:function(e,t,i,n){
// Walk the style rules and update the sections with new overloaded and used properties.
for(var r=0;r<e.length;++r){var s=e[r],o=s.section;s.computedStyle?(o._disabledComputedProperties=i,o._usedProperties=t,o.update()):(o._usedProperties=s.usedProperties,o.update(o===n))}},_rebuildSectionsForStyleRules:function(e,t,i,n,r){for(
// Make a property section for each style rule.
var s=[],o=!0,l=0;l<e.length;++l){var a=e[l];if(a.isStyleSeparator){var d=document.createElement("div");if(d.className="styles-sidebar-separator",a.node){var p=WebInspector.panels.elements.linkifyNodeReference(a.node);d.appendChild(document.createTextNode(WebInspector.UIString("Inherited from")+" ")),d.appendChild(p),s.inheritedPropertiesSeparatorElement||(s.inheritedPropertiesSeparatorElement=d)}else if("pseudoId"in a){var h=WebInspector.StylesSidebarPane.PseudoIdNames[a.pseudoId];d.textContent=h?WebInspector.UIString("Pseudo ::%s element",h):WebInspector.UIString("Pseudo element")}else d.textContent=a.text;this.bodyElement.insertBefore(d,r),o=!0}else{var c=a.computedStyle,u=a.editable;
// Default editable to true if it was omitted.
if(void 0===u&&(u=!0),c)var m=new WebInspector.ComputedStylePropertiesSection(a,t,i,e);else m=new WebInspector.StylePropertiesSection(a,u,a.isInherited,o);m.pane=this,m.expanded=!0,o=c?(this._computedStylePane.bodyElement.appendChild(m.element),!0):(this.bodyElement.insertBefore(m.element,r),!1),s.push(m)}}return s},_containsInherited:function(e){for(var t=e.allProperties,i=0;i<t.length;++i){var n=t[i];
// Does this style contain non-overridden inherited property?
if(n.isLive&&n.name in WebInspector.StylesSidebarPane.InheritedProperties)return!0}return!1},_changeSetting:function(e){var t=this.settingsSelectElement.options;t[this.settingsSelectElement.selectedIndex].action(e);for(
// Select the correct color format setting again, since it needs to be selected.
var i=0,n=0;n<t.length;++n)if(t[n].value===WebInspector.settings.colorFormat){i=n;break}this.settingsSelectElement.selectedIndex=i},_changeColorFormat:function(e){var t=this.settingsSelectElement[this.settingsSelectElement.selectedIndex];for(var i in WebInspector.settings.colorFormat=t.value,this.sections)for(var n=this.sections[i],r=0;r<n.length;++r)n[r].update(!0)},_createNewRule:function(e){this.addBlankSection().startEditingSelector()},addBlankSection:function(){var e=new WebInspector.BlankStylePropertiesSection(appropriateSelectorForNode(this.node,!0)),t=(e.pane=this).sections[0][1];return this.bodyElement.insertBefore(e.element,t.element.nextSibling),this.sections[0].splice(2,0,e),e},removeSection:function(e){for(var t in this.sections){var i=this.sections[t],n=i.indexOf(e);-1!==n&&(i.splice(n,1),e.element.parentNode&&e.element.parentNode.removeChild(e.element))}},registerShortcuts:function(){var e=WebInspector.shortcutsHelp.section(WebInspector.UIString("Styles Pane")),t=WebInspector.KeyboardShortcut,i=[t.shortcutToString(t.Keys.Tab),t.shortcutToString(t.Keys.Tab,t.Modifiers.Shift)];e.addRelatedKeys(i,WebInspector.UIString("Next/previous property")),i=[t.shortcutToString(t.Keys.Up),t.shortcutToString(t.Keys.Down)],e.addRelatedKeys(i,WebInspector.UIString("Increment/decrement value")),i=[t.shortcutToString(t.Keys.Up,t.Modifiers.Shift),t.shortcutToString(t.Keys.Down,t.Modifiers.Shift)],e.addRelatedKeys(i,WebInspector.UIString("Increment/decrement by %f",10)),i=[t.shortcutToString(t.Keys.PageUp),t.shortcutToString(t.Keys.PageDown)],e.addRelatedKeys(i,WebInspector.UIString("Increment/decrement by %f",10)),i=[t.shortcutToString(t.Keys.PageUp,t.Modifiers.Shift),t.shortcutToString(t.Keys.PageDown,t.Modifiers.Shift)],e.addRelatedKeys(i,WebInspector.UIString("Increment/decrement by %f",100)),i=[t.shortcutToString(t.Keys.PageUp,t.Modifiers.Alt),t.shortcutToString(t.Keys.PageDown,t.Modifiers.Alt)],e.addRelatedKeys(i,WebInspector.UIString("Increment/decrement by %f",.1))}},WebInspector.StylesSidebarPane.prototype.__proto__=WebInspector.SidebarPane.prototype,WebInspector.ComputedStyleSidebarPane=function(){WebInspector.SidebarPane.call(this,WebInspector.UIString("Computed Style"));var t=new WebInspector.Checkbox(WebInspector.UIString("Show inherited"),"sidebar-pane-subtitle");this.titleElement.appendChild(t.element),WebInspector.settings.showInheritedComputedStyleProperties&&(this.bodyElement.addStyleClass("show-inherited"),t.checked=!0),t.addEventListener(function(e){WebInspector.settings.showInheritedComputedStyleProperties=t.checked,WebInspector.settings.showInheritedComputedStyleProperties?this.bodyElement.addStyleClass("show-inherited"):this.bodyElement.removeStyleClass("show-inherited")}.bind(this))},WebInspector.ComputedStyleSidebarPane.prototype.__proto__=WebInspector.SidebarPane.prototype,WebInspector.StylePropertiesSection=function(e,t,i,n){WebInspector.PropertiesSection.call(this,""),this.element.className="styles-section monospace"+(n?" first-styles-section":""),this._selectorElement=document.createElement("span"),this._selectorElement.textContent=e.selectorText,this.titleElement.appendChild(this._selectorElement),Preferences.debugMode&&this._selectorElement.addEventListener("click",this._debugShowStyle.bind(this),!1);var r=document.createElement("span");r.textContent=" {",this.titleElement.appendChild(r);var s=document.createElement("div");s.textContent="}",this.element.appendChild(s),this._selectorElement.addEventListener("dblclick",this._handleSelectorDoubleClick.bind(this),!1),this.element.addEventListener("dblclick",this._handleEmptySpaceDoubleClick.bind(this),!1),this.styleRule=e,this.rule=this.styleRule.rule,this.editable=t,this.isInherited=i;
// Prevent editing the user agent and user rules.
var o=this.rule&&this.rule.isUserAgent,l=this.rule&&this.rule.isUser,a=this.rule&&this.rule.isViaInspector;function d(e,t){var i=WebInspector.linkifyResourceAsNode(e,"resources",t+1);return i.setAttribute("data-uncopyable",i.textContent),i.textContent="",i}(o||l)&&(this.editable=!1),this._usedProperties=e.usedProperties,this.rule&&this.titleElement.addStyleClass("styles-selector");var p="";this.styleRule.sourceURL?this.subtitleElement.appendChild(d(this.styleRule.sourceURL,this.rule.sourceLine)):o?p=WebInspector.UIString("user agent stylesheet"):l?p=WebInspector.UIString("user stylesheet"):a?p=WebInspector.UIString("via inspector"):this.rule&&this.rule.sourceURL&&this.subtitleElement.appendChild(d(this.rule.sourceURL,this.rule.sourceLine)),i&&this.element.addStyleClass("show-inherited"),// This one is related to inherited rules, not compted style.
p&&(this.subtitle=p),this.identifier=e.selectorText,this.subtitle&&(this.identifier+=":"+this.subtitle),this.editable||this.element.addStyleClass("read-only")},WebInspector.StylePropertiesSection.prototype={collapse:function(e){
// Overriding with empty body.
},isPropertyInherited:function(e){return!!this.isInherited&&!(e in WebInspector.StylesSidebarPane.InheritedProperties)},isPropertyOverloaded:function(e,t){if(!this._usedProperties||this.noAffect)return!1;if(this.isInherited&&!(e in WebInspector.StylesSidebarPane.InheritedProperties))
// In the inherited sections, only show overrides for the potentially inherited properties.
return!1;var i=e in this._usedProperties;if(i||!t)return!i;
// Find out if any of the individual longhand properties of the shorthand
// are used, if none are then the shorthand is overloaded too.
for(var n=this.styleRule.style.getLonghandProperties(e),r=0;r<n.length;++r){if(n[r].name in this._usedProperties)return!1}return!0},nextEditableSibling:function(){for(var e=this;(e=e.nextSibling)&&!e.editable;);return e},previousEditableSibling:function(){for(var e=this;(e=e.previousSibling)&&!e.editable;);return e},update:function(e){if(e)this.propertiesTreeOutline.removeChildren(),this.populated=!1;else for(var t=this.propertiesTreeOutline.children[0];t;)t.overloaded=this.isPropertyOverloaded(t.name,t.shorthand),t=t.traverseNextTreeElement(!1,null,!0);this.afterUpdate()},afterUpdate:function(){this._afterUpdate&&(this._afterUpdate(this),delete this._afterUpdate)},onpopulate:function(){var e=this.styleRule.style,t={},i={};this.uniqueProperties=[];for(var n=e.allProperties,r=0;r<n.length;++r)this.uniqueProperties.push(n[r]);
// Collect all shorthand names.
for(r=0;r<this.uniqueProperties.length;++r){(s=this.uniqueProperties[r]).disabled||s.shorthand&&(i[s.shorthand]=!0)}
// Collect all shorthand names.
for(r=0;r<this.uniqueProperties.length;++r){var s,o=(s=this.uniqueProperties[r]).disabled;!o&&this.disabledComputedProperties&&!(s.name in this.usedProperties)&&s.name in this.disabledComputedProperties&&(o=!0);var l=o?null:s.shorthand;if(!(l&&l in t)){l&&((s=e.getLiveProperty(l))||(s=new WebInspector.CSSProperty(e,e.allProperties.length,l,e.getShorthandValue(l),e.getShorthandPriority(l),"style",!0,!0,"")));var a=!(!s.isLive||!l&&!i[s.name]),d=this.isPropertyInherited(s.name),p=this.isPropertyOverloaded(s.name,a),h=new WebInspector.StylePropertyTreeElement(this.styleRule,e,s,a,d,p);this.propertiesTreeOutline.appendChild(h),t[s.name]=s}}},findTreeElementWithName:function(e){for(var t=this.propertiesTreeOutline.children[0];t;){if(t.name===e)return t;t=t.traverseNextTreeElement(!0,null,!0)}return null},addNewBlankProperty:function(e){var t=this.styleRule.style,i=t.newBlankProperty(),n=new WebInspector.StylePropertyTreeElement(this.styleRule,t,i,!1,!1,!1);return this.propertiesTreeOutline.appendChild(n),n.listItemElement.textContent="",n._newProperty=!0,n.updateTitle(),n},_debugShowStyle:function(e){var i;if(event.shiftKey){var t=document.createElement("div"),n=document.createElement("span");t.appendChild(n),n.style.background="yellow",n.style.display="inline-block",t.style.cssText="z-index: 2000000; position: absolute; top: 50px; left: 50px; white-space: pre; overflow: auto; background: white; font-family: monospace; font-size: 12px; border: 1px solid black; opacity: 0.85; -webkit-user-select: text; padding: 2px;",t.style.width=document.body.offsetWidth-100+"px",t.style.height=document.body.offsetHeight-100+"px",document.body.appendChild(t),this.rule?n.textContent=this.rule.selectorText+" {"+(void 0!==this.styleRule.style.cssText?this.styleRule.style.cssText:"<no cssText>")+"}":n.textContent=this.styleRule.style.cssText,i=function(e,t){t.target!==e?(document.body.removeChild(e),document.getElementById("main").removeEventListener("mousedown",i,!0)):t.stopPropagation()}.bind(null,t),document.getElementById("main").addEventListener("mousedown",i,!0)}},_handleEmptySpaceDoubleClick:function(e){e.target.hasStyleClass("header")?e.stopPropagation():(this.expand(),this.addNewBlankProperty().startEditing())},_handleSelectorClick:function(e){e.stopPropagation()},_handleSelectorDoubleClick:function(e){this._startEditingOnMouseEvent(),e.stopPropagation()},_startEditingOnMouseEvent:function(){if(this.editable)return this.rule||0!==this.propertiesTreeOutline.children.length?void(this.rule&&this.startEditingSelector()):(this.expand(),void this.addNewBlankProperty().startEditing())},startEditingSelector:function(){var e=this._selectorElement;WebInspector.isBeingEdited(e)||(WebInspector.startEditing(this._selectorElement,{context:null,commitHandler:this.editingSelectorCommitted.bind(this),cancelHandler:this.editingSelectorCancelled.bind(this)}),window.getSelection().setBaseAndExtent(e,0,e,1))},editingSelectorCommitted:function(e,n,r,t,i){function s(){if(i)if("forward"===i)if(this.expand(),0===this.propertiesTreeOutline.children.length)this.addNewBlankProperty().startEditing();else{var e=this.propertiesTreeOutline.children[0];e.startEditing(e.nameElement)}else{var t=this.previousEditableSibling();if(!t)return;t.expand(),t.addNewBlankProperty().startEditing()}}if(n===r)return s.call(this);var o=this;var l=WebInspector.panels.elements.focusedDOMNode;WebInspector.cssModel.setRuleSelector(this.rule.id,l?l.id:0,n,function(e,t){t?(delete o.noAffect,o.element.removeStyleClass("no-affect")):(o.noAffect=!0,o.element.addStyleClass("no-affect")),o.rule=e,o.styleRule={section:o,style:e.style,selectorText:e.selectorText,sourceURL:e.sourceURL,rule:e};var i=this.identifier;o.identifier=e.selectorText+":"+o.subtitleElement.textContent,o.pane.update(),WebInspector.panels.elements.renameSelector(i,this.identifier,r,n),s.call(o)},s.bind(this))},editingSelectorCancelled:function(){
// Do nothing, this is overridden by BlankStylePropertiesSection.
}},WebInspector.StylePropertiesSection.prototype.__proto__=WebInspector.PropertiesSection.prototype,WebInspector.ComputedStylePropertiesSection=function(e,t,i){WebInspector.PropertiesSection.call(this,""),this.headerElement.addStyleClass("hidden"),this.element.className="styles-section monospace first-styles-section read-only computed-style",this.styleRule=e,this._usedProperties=t,this._disabledComputedProperties=i,this._alwaysShowComputedProperties={display:!0,height:!0,width:!0},this.computedStyle=!0,this._propertyTreeElements={},this._expandedPropertyNames={}},WebInspector.ComputedStylePropertiesSection.prototype={collapse:function(e){
// Overriding with empty body.
},_isPropertyInherited:function(e){return!(e in this._usedProperties||e in this._alwaysShowComputedProperties||e in this._disabledComputedProperties)},update:function(){for(var e in this._expandedPropertyNames={},this._propertyTreeElements)this._propertyTreeElements[e].expanded&&(this._expandedPropertyNames[e]=!0);this._propertyTreeElements={},this.propertiesTreeOutline.removeChildren(),this.populated=!1},onpopulate:function(){for(var e=this.styleRule.style,t=[],i=e.allProperties,n=0;n<i.length;++n)t.push(i[n]);t.sort(function(e,t){return e.name.localeCompare(t.name)}),this._propertyTreeElements={};for(n=0;n<t.length;++n){var r=t[n],s=this._isPropertyInherited(r.name),o=new WebInspector.StylePropertyTreeElement(this.styleRule,e,r,!1,s,!1);this.propertiesTreeOutline.appendChild(o),this._propertyTreeElements[r.name]=o}},rebuildComputedTrace:function(e){for(var t=0;t<e.length;++t){var i=e[t];if(!(i.computedStyle||i instanceof WebInspector.BlankStylePropertiesSection))for(var n=0;n<i.uniqueProperties.length;++n){var r=i.uniqueProperties[n];if(!r.disabled&&(!i.isInherited||r.name in WebInspector.StylesSidebarPane.InheritedProperties)){var s=this._propertyTreeElements[r.name];if(s){var o="<span style='color: gray'>"+i.styleRule.selectorText+"</span> - "+r.value,l=" <span style='float:right'>"+i.subtitleElement.innerHTML+"</span>",a=new TreeElement(null,null,!1);a.titleHTML=o+l,s.appendChild(a),i.isPropertyOverloaded(r.name)&&a.listItemElement.addStyleClass("overloaded")}}}}
// Restore expanded state after update.
for(var d in this._expandedPropertyNames)d in this._propertyTreeElements&&this._propertyTreeElements[d].expand()}},WebInspector.ComputedStylePropertiesSection.prototype.__proto__=WebInspector.PropertiesSection.prototype,WebInspector.BlankStylePropertiesSection=function(e){WebInspector.StylePropertiesSection.call(this,{selectorText:e,rule:{isViaInspector:!0}},!0,!1,!1),this.element.addStyleClass("blank-section")},WebInspector.BlankStylePropertiesSection.prototype={expand:function(){
// Do nothing, blank sections are not expandable.
},editingSelectorCommitted:function(e,t,i,n){var r=this;WebInspector.cssModel.addRule(this.pane.node.id,t,function(e,t){var i={section:r,style:e.style,selectorText:e.selectorText,sourceURL:e.sourceURL,rule:e};r.makeNormal(i),t||(r.noAffect=!0,r.element.addStyleClass("no-affect")),r.subtitleElement.textContent=WebInspector.UIString("via inspector"),r.expand(),r.addNewBlankProperty().startEditing()},this.editingSelectorCancelled.bind(this))},editingSelectorCancelled:function(){this.pane.removeSection(this)},makeNormal:function(e){this.element.removeStyleClass("blank-section"),this.styleRule=e,this.rule=e.rule,this.identifier=e.selectorText+":via inspector",this.__proto__=WebInspector.StylePropertiesSection.prototype}},WebInspector.BlankStylePropertiesSection.prototype.__proto__=WebInspector.StylePropertiesSection.prototype,WebInspector.StylePropertyTreeElement=function(e,t,i,n,r,s){this._styleRule=e,this.style=t,this.property=i,this.shorthand=n,this._inherited=r,this._overloaded=s,
// Pass an empty title, the title gets made later in onattach.
TreeElement.call(this,"",null,n)},WebInspector.StylePropertyTreeElement.prototype={get inherited(){return this._inherited},set inherited(e){e!==this._inherited&&(this._inherited=e,this.updateState())},get overloaded(){return this._overloaded},set overloaded(e){e!==this._overloaded&&(this._overloaded=e,this.updateState())},get disabled(){return this.property.disabled},get name(){if(!this.disabled||!this.property.text)return this.property.name;var e=this.property.text,t=e.indexOf(":");return t<1?this.property.name:e.substring(0,t).trim()},get priority(){return this.disabled?"":this.property.priority;// rely upon raw text to render it in the value field
},get value(){if(!this.disabled||!this.property.text)return this.property.value;var e=this.property.text.match(/(.*);\s*/);if(!e||!e[1])return this.property.value;var t=e[1],i=t.indexOf(":");return i<1?this.property.value:t.substring(i+1).trim()},get parsedOk(){return this.property.parsedOk},onattach:function(){this.updateTitle()},updateTitle:function(){var e,t=this.value;this.updateState(),this.parsedOk&&((e=document.createElement("input")).className="enabled-button",e.type="checkbox",e.checked=!this.disabled,e.addEventListener("change",this.toggleEnabled.bind(this),!1));var i=document.createElement("span");i.className="webkit-css-property",i.textContent=this.name,this.nameElement=i;var n=document.createElement("span");if(n.className="value",this.valueElement=n,t){var s=this;function r(e,t,i,n){for(var r=document.createDocumentFragment(),s=n.replace(e,"\0$1\0").split("\0"),o=0;o<s.length;++o)if(o%2==0)i?r.appendChild(i(s[o])):r.appendChild(document.createTextNode(s[o]));else{var l=t(s[o]);l&&r.appendChild(l)}return r}var o=r.bind(window,/((?:rgb|hsl)a?\([^)]+\)|#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3}|\b\w+\b(?!-))/g,function(t){try{var i=new WebInspector.Color(t)}catch(e){return document.createTextNode(t)}var n,e=document.createElement("span");e.title=WebInspector.UIString("Click to change color format"),e.className="swatch",e.style.setProperty("background-color",t),e.addEventListener("click",function(e){do{n=s(n);var t=i.toString(n||"")}while(n&&t===i.value&&"original"!==n);n&&(r.textContent=t)},!1),e.addEventListener("dblclick",function(e){e.stopPropagation()},!1),n="original"===WebInspector.settings.colorFormat?"original":Preferences.showColorNicknames&&i.nickname?"nickname":"rgb"===WebInspector.settings.colorFormat?i.simple?"rgb":"rgba":"hsl"===WebInspector.settings.colorFormat?i.simple?"hsl":"hsla":i.simple?i.hasShortHex()?"shorthex":"hex":"rgba";var r=document.createElement("span");function s(e){
// The format loop is as follows:
// * original
// * rgb(a)
// * hsl(a)
// * nickname (if the color has a nickname)
// * if the color is simple:
//   - shorthex (if has short hex)
//   - hex
switch(e){case"original":return i.simple?"rgb":"rgba";case"rgb":case"rgba":return i.simple?"hsl":"hsla";case"hsl":case"hsla":return i.nickname?"nickname":i.simple?i.hasShortHex()?"shorthex":"hex":"original";case"shorthex":return"hex";case"hex":return"original";case"nickname":return i.simple?i.hasShortHex()?"shorthex":"hex":"original";default:return null}}r.textContent=i.toString(n);var o=document.createDocumentFragment();return o.appendChild(e),o.appendChild(r),o},null);n.appendChild(r(/url\(\s*([^)\s]+)\s*\)/g,function(e){var t=e,i=t.match(/['"]?([^'"]+)/);i&&(t=i[1]);var n=document.createDocumentFragment();n.appendChild(document.createTextNode("url(")),s._styleRule.sourceURL?t=WebInspector.completeURL(s._styleRule.sourceURL,t):WebInspector.panels.elements.focusedDOMNode&&(t=WebInspector.resourceURLForRelatedNode(WebInspector.panels.elements.focusedDOMNode,t));var r=!!WebInspector.resourceForURL(t);
// FIXME: WebInspector.linkifyURLAsNode() should really use baseURI.
return n.appendChild(WebInspector.linkifyURLAsNode(t,e,null,r)),n.appendChild(document.createTextNode(")")),n},o,t))}this.listItemElement.removeChildren(),i.normalize(),n.normalize(),this.treeOutline&&(
// Append the checkbox for root elements of an editable section.
e&&this.treeOutline.section&&this.treeOutline.section.editable&&this.parent.root&&this.listItemElement.appendChild(e),this.listItemElement.appendChild(i),this.listItemElement.appendChild(document.createTextNode(": ")),this.listItemElement.appendChild(n),this.listItemElement.appendChild(document.createTextNode(";")),this.parsedOk||(
// Avoid having longhands under an invalid shorthand.
this.hasChildren=!1,this.listItemElement.addStyleClass("not-parsed-ok")),this.property.inactive&&this.listItemElement.addStyleClass("inactive"),this.tooltip=this.property.propertyText)},updateAll:function(e){this.treeOutline&&(e&&this.treeOutline.section&&this.treeOutline.section.pane?this.treeOutline.section.pane.update(null,this.treeOutline.section):this.treeOutline.section?this.treeOutline.section.update(!0):this.updateTitle())},toggleEnabled:function(e){var t=!e.target.checked;this.property.setDisabled(t,function(e){e&&(this.style=e,this._styleRule.style=e,this.treeOutline.section&&this.treeOutline.section.pane&&this.treeOutline.section.pane.dispatchEventToListeners("style property toggled"),this.updateAll(!0))}.bind(this))},updateState:function(){this.listItemElement&&(this.style.isPropertyImplicit(this.name)||"initial"===this.value?this.listItemElement.addStyleClass("implicit"):this.listItemElement.removeStyleClass("implicit"),this.selectable=!this.inherited,this.inherited?this.listItemElement.addStyleClass("inherited"):this.listItemElement.removeStyleClass("inherited"),this.overloaded?this.listItemElement.addStyleClass("overloaded"):this.listItemElement.removeStyleClass("overloaded"),this.disabled?this.listItemElement.addStyleClass("disabled"):this.listItemElement.removeStyleClass("disabled"))},onpopulate:function(){
// Only populate once and if this property is a shorthand.
if(!this.children.length&&this.shorthand)for(var e=this.style.getLonghandProperties(this.name),t=0;t<e.length;++t){var i=e[t].name;if(this.treeOutline.section)var n=this.treeOutline.section.isPropertyInherited(i),r=this.treeOutline.section.isPropertyOverloaded(i);var s=this.style.getLiveProperty(i),o=new WebInspector.StylePropertyTreeElement(this._styleRule,this.style,s,!1,n,r);this.appendChild(o)}},ondblclick:function(e){this.startEditing(e.target),e.stopPropagation()},restoreNameElement:function(){
// Restore <span class="webkit-css-property"> if it doesn't yet exist or was accidentally deleted.
this.nameElement!==this.listItemElement.querySelector(".webkit-css-property")&&(this.nameElement=document.createElement("span"),this.nameElement.className="webkit-css-property",this.nameElement.textContent="",this.listItemElement.insertBefore(this.nameElement,this.listItemElement.firstChild))},startEditing:function(e){
// FIXME: we don't allow editing of longhand properties under a shorthand right now.
if(!this.parent.shorthand&&(!this.treeOutline.section||this.treeOutline.section.editable)){var t=(e=e?e.enclosingNodeOrSelfWithClass("webkit-css-property")||e.enclosingNodeOrSelfWithClass("value"):this.nameElement)===this.nameElement;if(t||e===this.valueElement||(
// Double-click in the LI - start editing value.
t=!1,e=this.valueElement),!WebInspector.isBeingEdited(e)){var i={expanded:this.expanded,hasChildren:this.hasChildren,keyDownListener:t?null:this.editingValueKeyDown.bind(this),isEditingName:t};
// Lie about our children to prevent expanding on double click and to collapse shorthands.
this.hasChildren=!1,t||e.addEventListener("keydown",i.keyDownListener,!1),e.parentElement&&e.parentElement.addStyleClass("child-editing"),e.textContent=e.textContent,WebInspector.startEditing(e,{context:i,commitHandler:this.editingCommitted.bind(this),cancelHandler:this.editingCancelled.bind(this),customFinishHandler:function(e,t,i){
// FIXME: the ":"/";" detection does not work for non-US layouts due to the event being keydown rather than keypress.
var n=i.keyCode===WebInspector.KeyboardShortcut.Keys.Semicolon.code&&(t?i.shiftKey:!i.shiftKey&&// remove color swatch and the like
function(e,t){for(
// FIXME: should this account for semicolons inside comments?
var i="",n=0;n<t;++n){var r=e[n];"\\"===r&&""!==i?++n:i||'"'!==r&&"'"!==r?i===r&&(i=""):i=r}return!i}(i.target.textContent,i.target.selectionLeftOffset));if(isEnterKey(i)||n)
// Enter or colon (for name)/semicolon outside of string (for value).
return i.preventDefault(),"move-forward";if(i.keyCode===WebInspector.KeyboardShortcut.Keys.Esc.code)return"cancel";if(!t&&this._newProperty&&i.keyCode===WebInspector.KeyboardShortcut.Keys.Backspace.code){
// For a new property, when Backspace is pressed at the beginning of new property value, move back to the property name.
var r=window.getSelection();if(r.isCollapsed&&!r.focusOffset)return i.preventDefault(),"move-backward"}else if("U+0009"===i.keyIdentifier)// Tab key.
return"move-"+(i.shiftKey?"backward":"forward")}.bind(this,i,t),pasteHandler:t?function(e,t){var i=t.clipboardData.getData("Text");if(i){var n=i.indexOf(":");if(!(n<0)){var r=i.substring(0,n).trim(),s=i.substring(n+1).trim();return t.preventDefault(),"originalName"in e||(e.originalName=this.nameElement.textContent,e.originalValue=this.valueElement.textContent),this.nameElement.textContent=r,this.valueElement.textContent=s,this.nameElement.normalize(),this.valueElement.normalize(),"move-forward"}}}.bind(this,i):null}),this._prompt=new WebInspector.StylesSidebarPane.CSSPropertyPrompt(e,t?WebInspector.cssNameCompletions:WebInspector.CSSKeywordCompletions.forProperty(this.nameElement.textContent)),window.getSelection().setBaseAndExtent(e,0,e,1)}}},editingValueKeyDown:function(e){if(!e.handled){var t="Up"===e.keyIdentifier||"Down"===e.keyIdentifier,i="PageUp"===e.keyIdentifier||"PageDown"===e.keyIdentifier;if(t||i){var n=window.getSelection();if(n.rangeCount){var r=n.getRangeAt(0);if(r.commonAncestorContainer===this.valueElement||r.commonAncestorContainer.isDescendant(this.valueElement)){var s=r.startContainer.rangeOfWord(r.startOffset,WebInspector.StylesSidebarPane.StyleValueDelimiters,this.valueElement),o=s.toString(),l=o,a=/(.*?)(-?\d+(?:\.\d+)?)(.*)/.exec(o);if(a&&a.length){var d=a[1],p=parseFloat(a[2]),h=a[3],c=p<1&&-1<p;if(1===p&&"Down"===e.keyIdentifier?c=!0:-1===p&&"Up"===e.keyIdentifier&&(c=!0),c&&e.altKey&&t)p="Down"===e.keyIdentifier?Math.ceil(p-1):Math.floor(p+1);else{
// Jump by 10 when shift is down or jump by 0.1 when near zero or Alt/Option is down.
// Also jump by 10 for page up and down, or by 100 if shift is held with a page key.
var u=1;e.shiftKey&&i?u=100:e.shiftKey||i?u=10:(e.altKey||c)&&(u=.1),"Down"!==e.keyIdentifier&&"PageDown"!==e.keyIdentifier||(u*=-1),
// Make the new number and constrain it to a precision of 6, this matches numbers the engine returns.
// Use the Number constructor to forget the fixed precision, so 1.100000 will print as 1.1.
p=Number((p+u).toFixed(6))}l=d+p+h;var m=document.createTextNode(l);s.deleteContents(),s.insertNode(m);var y=document.createRange();y.setStart(m,0),y.setEnd(m,l.length),n.removeAllRanges(),n.addRange(y),e.handled=!0,e.preventDefault(),"originalPropertyText"in this||(
// Remember the rule's original CSS text on [Page](Up|Down), so it can be restored
// if the editing is canceled.
this.originalPropertyText=this.property.propertyText),
// Synthesize property text disregarding any comments, custom whitespace etc.
this.applyStyleText(this.nameElement.textContent+": "+this.valueElement.textContent)}}}}}},editingEnded:function(e){this.hasChildren=e.hasChildren,e.expanded&&this.expand();var t=e.isEditingName?this.nameElement:this.valueElement;e.isEditingName||t.removeEventListener("keydown",e.keyDownListener,!1),t.parentElement&&t.parentElement.removeStyleClass("child-editing"),delete this.originalPropertyText},editingCancelled:function(e,t){this._removePrompt(),"originalPropertyText"in this?this.applyStyleText(this.originalPropertyText,!0):this._newProperty?this.treeOutline.removeChild(this):this.updateTitle(),
// This should happen last, as it clears the info necessary to restore the property value after [Page]Up/Down changes.
this.editingEnded(t)},editingCommitted:function(e,t,i,n,o){this._removePrompt(),this.editingEnded(n);var l,a,d=n.isEditingName,p=this,r=d^"forward"===o,h=this._newProperty&&!t&&(r||d);
// Determine where to move to before making changes
if("forward"===o&&!d||"backward"===o&&d){for(;(p="forward"===o?p.nextSibling:p.previousSibling)&&!p.selectable;);p?p.name:"forward"!==o||this._newProperty&&!t?"backward"===o&&this.treeOutline.section.rule&&(a=!0):l=!0}
// Make the Changes and trigger the moveToNextCallback after updating.
var s,c=/^\s*$/.test(t),u="originalName"in n,m=u&&(this.nameElement.textContent!==n.originalName||this.valueElement.textContent!==n.originalValue),y=this._newProperty&&(r||!o&&!d||d&&c);(t!==i||m)&&!this._newProperty||y?(this.treeOutline.section._afterUpdate=f.bind(this,this._newProperty,!c,this.treeOutline.section),s=c||this._newProperty&&/^\s*$/.test(this.valueElement.textContent)?"":d?t+": "+this.valueElement.textContent:this.nameElement.textContent+": "+t,this.applyStyleText(s,!0)):(u||this._newProperty||this.updateTitle(),f(this._newProperty,!1,this.treeOutline.section));var b=p&&this.treeOutline?this.treeOutline.children.indexOf(p):-1;
// The Callback to start editing the next/previous property/selector.
function f(e,t,i){if(o)
// User just tabbed through without changes.
if(p&&p.parent)p.startEditing(d?p.valueElement:p.nameElement);else{
// User has made a change then tabbed, wiping all the original treeElements.
// Recalculate the new treeElement for the same property we were going to edit next.
if(p&&!p.parent){var n=i.propertiesTreeOutline.children;if("forward"===o&&c&&!d&&--b,b>=n.length&&!this._newProperty)l=!0;else{var r=0<=b?n[b]:null;if(r)return void r.startEditing(d?r.valueElement:r.nameElement);e||(a=!0)}}
// Create a new attribute in this section (or move to next editable selector if possible).
if(l){if(e&&!t&&d^"backward"===o)return;i.addNewBlankProperty().startEditing()}else if(h){var s="backward"===o?i:i.nextEditableSibling();s&&s.rule&&s.startEditingSelector()}else a&&i.startEditingSelector()}}},_removePrompt:function(){
// BUG 53242. This cannot go into editingEnded(), as it should always happen first for any editing outcome.
this._prompt&&(this._prompt.removeFromElement(),delete this._prompt)},_hasBeenAppliedToPageViaUpDown:function(){
// New properties applied via up/down have an originalPropertyText and will be deleted later
// on, if cancelled, when the empty string gets applied as their style text.
return"originalPropertyText"in this},applyStyleText:function(e,t){var i=this.treeOutline.section;WebInspector.panels.elements;if(!(e=e.replace(/\s/g," ").trim()).length&&t&&this._newProperty&&!this._hasBeenAppliedToPageViaUpDown())
// The user deleted everything and never applied a new property value via Up/Down scrolling, so remove the tree element and update.
return this.parent.removeChild(this),void i.afterUpdate();
// Append a ";" if the new text does not end in ";".
// FIXME: this does not handle trailing comments.
e.length&&!/;\s*$/.test(e)&&(e+=";"),this.property.setText(e,t,function(e){if(!e)
// The user typed something, but it didn't parse. Just abort and restore
// the original title for this property.  If this was a new attribute and
// we couldn't parse, then just remove it.
return this._newProperty?void this.parent.removeChild(this):void(t&&this.updateTitle());this.style=e,this.property=e.propertyAt(this.property.index),this._styleRule.style=this.style,i&&i.pane&&i.pane.dispatchEventToListeners("style edited"),t&&this.updateAll(!0)}.bind(this))}},WebInspector.StylePropertyTreeElement.prototype.__proto__=TreeElement.prototype,WebInspector.StylesSidebarPane.CSSPropertyPrompt=function(e,t){WebInspector.TextPrompt.call(this,e,this._buildPropertyCompletions.bind(this),WebInspector.StylesSidebarPane.StyleValueDelimiters,!0),this._cssCompletions=t},WebInspector.StylesSidebarPane.CSSPropertyPrompt.prototype={upKeyPressed:function(e){this._handleNameOrValueUpDown(e)},downKeyPressed:function(e){this._handleNameOrValueUpDown(e)},tabKeyPressed:function(e){this.acceptAutoComplete()},_handleNameOrValueUpDown:function(e){var t="Up"===e.keyIdentifier;this.autoCompleteElement?this.complete(!1,t):
// Select the word suffix to affect it when computing the subsequent suggestion.
this._selectCurrentWordSuffix(),this.complete(!1,t),// Actually increment/decrement the suggestion.
e.handled=!0},_selectCurrentWordSuffix:function(){var e=window.getSelection();if(e.rangeCount){var t=e.getRangeAt(0);if(t.commonAncestorContainer.isDescendant(this.element)){var i=t.startContainer.rangeOfWord(t.startOffset,WebInspector.StylesSidebarPane.StyleValueDelimiters,this.element,"forward");i.toString()&&(e.removeAllRanges(),e.addRange(i))}}},_buildPropertyCompletions:function(e,t,i){var n,r=e.toString().toLowerCase();if(t){n=[];var s=this._cssCompletions.firstStartsWith(r);return s&&n.push(s),i(n)}(n=this._cssCompletions.startsWith(r))&&i(n)}},WebInspector.StylesSidebarPane.CSSPropertyPrompt.prototype.__proto__=WebInspector.TextPrompt.prototype;